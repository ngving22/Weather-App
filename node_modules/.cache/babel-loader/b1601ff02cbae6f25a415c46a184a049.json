{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrewng/Desktop/react-app/react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/andrewng/Desktop/react-app/react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/andrewng/Desktop/react-app/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrewng/Desktop/react-app/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import UilReact from\"@iconscout/react-unicons/icons/uil-react\";import TopButtons from'./components/TopButtons';import Inputs from'./components/Inputs';import TimeAndLocation from'./components/TimeAndLocation';import TemperatureAndDetails from'./components/TemperatureAndDetails';import Forecast from'./components/Forecast';import getWeatherData from'./Services/weatherService';import getFormattedWeatherData from'./Services/weatherService';import{useEffect,useState}from'react';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({q:'berlin'}),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState('metric'),_useState4=_slicedToArray(_useState3,2),units=_useState4[0],setUnits=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];useEffect(function(){var fetchWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:message=query.q?query.q:'current location.';toast.info('Fetching weather for '+message);_context.next=4;return getFormattedWeatherData(_objectSpread(_objectSpread({},query),{},{units:units})).then(function(data){toast.success(\"Succesfully fetch weather for \".concat(data.name,\", \").concat(data.country));setWeather(data);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchWeather(){return _ref.apply(this,arguments);};}();fetchWeather();},[query,units]);var formatBackground=function formatBackground(){if(!weather)return'from-cyan-700 to-blue-700';var threshold=units==='metric'?20:60;if(weather.temp<=threshold)return'from-cyan-700 to blue-700';return'from-yellow-700 to-orange-700';};return/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-screen-md mt-4 py-5 px32 bg-gradient-to-br from-cyan-700 to-blue-700 h-fit shadow-xl\\n    shadow-gray-400 \".concat(formatBackground()),children:[/*#__PURE__*/_jsx(TopButtons,{setQuery:setQuery}),/*#__PURE__*/_jsx(Inputs,{setQuery:setQuery,units:units,setUnits:setUnits}),weather&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TimeAndLocation,{weather:weather}),/*#__PURE__*/_jsx(TemperatureAndDetails,{weather:weather}),/*#__PURE__*/_jsx(Forecast,{title:\"hourly forecast\",items:weather.hourly}),/*#__PURE__*/_jsx(Forecast,{title:\"daily forecast\",items:weather.daily})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:5000,theme:\"colored\",newestOnTop:true})]});}export default App;","map":{"version":3,"names":["UilReact","TopButtons","Inputs","TimeAndLocation","TemperatureAndDetails","Forecast","getWeatherData","getFormattedWeatherData","useEffect","useState","ToastContainer","toast","App","q","query","setQuery","units","setUnits","weather","setWeather","fetchWeather","message","info","then","data","success","name","country","formatBackground","threshold","temp","hourly","daily"],"sources":["/Users/andrewng/Desktop/react-app/react-app/src/App.js"],"sourcesContent":["\n\nimport './App.css';\nimport UilReact from \"@iconscout/react-unicons/icons/uil-react\"\nimport TopButtons from './components/TopButtons';\nimport Inputs from './components/Inputs';\nimport TimeAndLocation from './components/TimeAndLocation';\nimport TemperatureAndDetails from './components/TemperatureAndDetails';\nimport Forecast from './components/Forecast';\nimport getWeatherData from './Services/weatherService';\nimport getFormattedWeatherData from './Services/weatherService';\nimport { useEffect, useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n\n  const [query, setQuery] = useState({q: 'berlin'})\n  const [units, setUnits] = useState('metric')\n  const [weather, setWeather] = useState(null)\n\n  useEffect(() => {\n    const fetchWeather = async () => {\n      const message = query.q ? query.q: 'current location.'\n\n      toast.info('Fetching weather for ' + message)\n      await getFormattedWeatherData({...query, units}).then(\n        (data) => {\n\n          toast.success(`Succesfully fetch weather for ${data.name}, ${data.country}`)\n          setWeather(data);\n        })\n      \n  \n    }\n\n    fetchWeather()\n\n  }, [query,units])\n\n  const formatBackground = () => {\n    if(!weather) return 'from-cyan-700 to-blue-700'\n    const threshold = units === 'metric' ? 20 : 60\n    if (weather.temp <= threshold) return 'from-cyan-700 to blue-700'\n\n    return 'from-yellow-700 to-orange-700'\n  }\n  return (\n    <div className={`mx-auto max-w-screen-md mt-4 py-5 px32 bg-gradient-to-br from-cyan-700 to-blue-700 h-fit shadow-xl\n    shadow-gray-400 ${formatBackground()}`}>\n      <TopButtons setQuery={setQuery}/>\n      <Inputs setQuery={setQuery} units={units} setUnits={setUnits} />\n\n      {weather && (\n\n        <div>\n          <TimeAndLocation weather={weather}/> \n          <TemperatureAndDetails weather={weather} />\n    \n          <Forecast title='hourly forecast' items={weather.hourly} />\n          <Forecast title='daily forecast'items={weather.daily}/> \n\n        </div>\n\n      )}\n\n    <ToastContainer autoClose={5000} theme='colored' newestOnTop={true} />\n      \n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"mhBAEA,MAAO,WAAP,CACA,MAAOA,SAAP,KAAqB,0CAArB,CACA,MAAOC,WAAP,KAAuB,yBAAvB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,gBAAP,KAA4B,8BAA5B,CACA,MAAOC,sBAAP,KAAkC,oCAAlC,CACA,MAAOC,SAAP,KAAqB,uBAArB,CACA,MAAOC,eAAP,KAA2B,2BAA3B,CACA,MAAOC,wBAAP,KAAoC,2BAApC,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,C,wFAEA,QAASC,IAAT,EAAe,CAEb,cAA0BH,QAAQ,CAAC,CAACI,CAAC,CAAE,QAAJ,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,eAA0BN,QAAQ,CAAC,QAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,aAAY,4FAAG,iJACbC,OADa,CACHP,KAAK,CAACD,CAAN,CAAUC,KAAK,CAACD,CAAhB,CAAmB,mBADhB,CAGnBF,KAAK,CAACW,IAAN,CAAW,wBAA0BD,OAArC,EAHmB,sBAIbd,wBAAuB,gCAAKO,KAAL,MAAYE,KAAK,CAALA,KAAZ,GAAvB,CAA2CO,IAA3C,CACJ,SAACC,IAAD,CAAU,CAERb,KAAK,CAACc,OAAN,yCAA+CD,IAAI,CAACE,IAApD,cAA6DF,IAAI,CAACG,OAAlE,GACAR,UAAU,CAACK,IAAD,CAAV,CACD,CALG,CAJa,uDAAH,kBAAZJ,aAAY,0CAAlB,CAcAA,YAAY,GAEb,CAjBQ,CAiBN,CAACN,KAAD,CAAOE,KAAP,CAjBM,CAAT,CAmBA,GAAMY,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,GAAG,CAACV,OAAJ,CAAa,MAAO,2BAAP,CACb,GAAMW,UAAS,CAAGb,KAAK,GAAK,QAAV,CAAqB,EAArB,CAA0B,EAA5C,CACA,GAAIE,OAAO,CAACY,IAAR,EAAgBD,SAApB,CAA+B,MAAO,2BAAP,CAE/B,MAAO,+BAAP,CACD,CAND,CAOA,mBACE,aAAK,SAAS,mIACID,gBAAgB,EADpB,CAAd,wBAEE,KAAC,UAAD,EAAY,QAAQ,CAAEb,QAAtB,EAFF,cAGE,KAAC,MAAD,EAAQ,QAAQ,CAAEA,QAAlB,CAA4B,KAAK,CAAEC,KAAnC,CAA0C,QAAQ,CAAEC,QAApD,EAHF,CAKGC,OAAO,eAEN,oCACE,KAAC,eAAD,EAAiB,OAAO,CAAEA,OAA1B,EADF,cAEE,KAAC,qBAAD,EAAuB,OAAO,CAAEA,OAAhC,EAFF,cAIE,KAAC,QAAD,EAAU,KAAK,CAAC,iBAAhB,CAAkC,KAAK,CAAEA,OAAO,CAACa,MAAjD,EAJF,cAKE,KAAC,QAAD,EAAU,KAAK,CAAC,gBAAhB,CAAgC,KAAK,CAAEb,OAAO,CAACc,KAA/C,EALF,GAPJ,cAkBA,KAAC,cAAD,EAAgB,SAAS,CAAE,IAA3B,CAAiC,KAAK,CAAC,SAAvC,CAAiD,WAAW,CAAE,IAA9D,EAlBA,GADF,CAwBD,CAED,cAAepB,IAAf"},"metadata":{},"sourceType":"module"}